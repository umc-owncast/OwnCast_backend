<!-- <audio id="audioPlayer" controls></audio>
<input type="range" id="progressBar" value="0" min="0" step="0.1"> -->

<audio id="audioPlayer" controls></audio>
<br/>
<button id="playButton">Download Audio</button>

<script>
    const audioPlayer = document.getElementById('audioPlayer');
    const playButton = document.getElementById('playButton');

    async function fetchAndPlayAudio() {
        try {
            const response = await fetch('http://localhost:8080/api/cast/stream-test', {
                method: 'GET',
                mode: 'cors',
            });

            if (!response.ok) {
                throw new Error('서버 응답 오류');
            }

            const audioBlob = await response.blob();
            const audioUrl = URL.createObjectURL(audioBlob);

            audioPlayer.src = audioUrl;
            audioPlayer.play();
        } catch (error) {
            console.error('Error fetching audio:', error);
        }
    }

    playButton.addEventListener('click', fetchAndPlayAudio);
</script>